\hypertarget{importer_8py_source}{}\doxysection{importer.\+py}
\label{importer_8py_source}\index{Markopy/Markopy/src/CLI/importer.py@{Markopy/Markopy/src/CLI/importer.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{importer_8py_source_l00001}\mbox{\hyperlink{namespaceimporter}{00001}} }
\DoxyCodeLine{00002 }
\DoxyCodeLine{00006 }
\DoxyCodeLine{00007 \textcolor{keyword}{from} importlib.util \textcolor{keyword}{import} spec\_from\_loader, module\_from\_spec}
\DoxyCodeLine{00008 \textcolor{keyword}{from} importlib.machinery \textcolor{keyword}{import} SourceFileLoader, ExtensionFileLoader}
\DoxyCodeLine{00009 \textcolor{keyword}{import} os}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 }
\DoxyCodeLine{\Hypertarget{importer_8py_source_l00012}\mbox{\hyperlink{namespaceimporter_a94ba10dfc732b45384713b2908257fb8}{00012}} \textcolor{keyword}{def }\mbox{\hyperlink{namespaceimporter_a94ba10dfc732b45384713b2908257fb8}{import\_markopy}}():}
\DoxyCodeLine{00013     \textcolor{stringliteral}{"{}"{}"{}! @brief import and return markopy module}}
\DoxyCodeLine{00014 \textcolor{stringliteral}{         @returns markopy module}}
\DoxyCodeLine{00015 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{00016     ext = \textcolor{stringliteral}{"{}so"{}}}
\DoxyCodeLine{00017     \textcolor{keywordflow}{if} os.name == \textcolor{stringliteral}{'nt'}:}
\DoxyCodeLine{00018         ext=\textcolor{stringliteral}{"{}pyd"{}}}
\DoxyCodeLine{00019     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00020         spec = spec\_from\_loader(\textcolor{stringliteral}{"{}markopy"{}}, ExtensionFileLoader(\textcolor{stringliteral}{"{}markopy"{}}, os.path.abspath(f\textcolor{stringliteral}{"{}markopy.\{ext\}"{}})))}
\DoxyCodeLine{00021         markopy = module\_from\_spec(spec)}
\DoxyCodeLine{00022         spec.loader.exec\_module(markopy)}
\DoxyCodeLine{00023         \textcolor{keywordflow}{return} markopy}
\DoxyCodeLine{00024     \textcolor{keywordflow}{except} ImportError \textcolor{keyword}{as} e:}
\DoxyCodeLine{00025         \textcolor{comment}{\#print(f"{}(\{\_\_file\_\_\}) Working in development mode. Trying to load markopy.\{ext\} from ../../../out/"{})}}
\DoxyCodeLine{00026         if(os.path.exists(f\textcolor{stringliteral}{"{}../../../out/lib/markopy.\{ext\}"{}})):}
\DoxyCodeLine{00027             spec = spec\_from\_loader(\textcolor{stringliteral}{"{}markopy"{}}, ExtensionFileLoader(\textcolor{stringliteral}{"{}markopy"{}}, os.path.abspath(f\textcolor{stringliteral}{"{}../../../out/lib/markopy.\{ext\}"{}})))}
\DoxyCodeLine{00028             markopy = module\_from\_spec(spec)}
\DoxyCodeLine{00029             spec.loader.exec\_module(markopy)}
\DoxyCodeLine{00030             \textcolor{keywordflow}{return} markopy}
\DoxyCodeLine{00031         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00032             \textcolor{keywordflow}{raise} e}

\end{DoxyCode}

\hypertarget{markopy_8py_source}{}\doxysection{markopy.\+py}
\label{markopy_8py_source}\index{markopy.py@{markopy.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00001}\mbox{\hyperlink{namespacemarkopy}{00001}} \textcolor{stringliteral}{""" @package markopy}}
\DoxyCodeLine{00002 \textcolor{stringliteral}{ @file markopy\_cli.py}}
\DoxyCodeLine{00003 \textcolor{stringliteral}{ @namespace Python::Markopy::ModelMatrix}}
\DoxyCodeLine{00004 \textcolor{stringliteral}{ @brief Command line class for ModelMatrix}}
\DoxyCodeLine{00005 \textcolor{stringliteral}{ @authors Ata Hakçıl}}
\DoxyCodeLine{00006 \textcolor{stringliteral}{"""}}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{keyword}{from} importlib.util \textcolor{keyword}{import} spec\_from\_loader, module\_from\_spec}
\DoxyCodeLine{00009 \textcolor{keyword}{from} importlib.machinery \textcolor{keyword}{import} SourceFileLoader, ExtensionFileLoader}
\DoxyCodeLine{00010 \textcolor{keyword}{import} os}
\DoxyCodeLine{00011 \textcolor{keyword}{import} sys}
\DoxyCodeLine{00012 }
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00013}\mbox{\hyperlink{namespacemarkopy_a2dfb37b0e0f42f5dd4545a54892ea9c9}{00013}} ext = \textcolor{stringliteral}{"so"}}
\DoxyCodeLine{00014 \textcolor{keywordflow}{if} os.name == \textcolor{stringliteral}{'nt'}:}
\DoxyCodeLine{00015     ext=\textcolor{stringliteral}{"pyd"}}
\DoxyCodeLine{00016 \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00017}\mbox{\hyperlink{namespacemarkopy_ace4852aaa5eb79f25ec7693ddb574d9a}{00017}}     spec = spec\_from\_loader(\textcolor{stringliteral}{"markopy"}, ExtensionFileLoader(\textcolor{stringliteral}{"markopy"}, os.path.abspath(f\textcolor{stringliteral}{"markopy.\{ext\}"})))}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00018}\mbox{\hyperlink{namespacemarkopy_a75a951b1fac43ad19ac4fd89ed0026a9}{00018}}     markopy = module\_from\_spec(spec)}
\DoxyCodeLine{00019     spec.loader.exec\_module(markopy)}
\DoxyCodeLine{00020 \textcolor{keywordflow}{except} ImportError \textcolor{keyword}{as} e:}
\DoxyCodeLine{00021     print(f\textcolor{stringliteral}{"(\{\_\_file\_\_\}) Working in development mode. Trying to load markopy.\{ext\} from ../../../out/"})}
\DoxyCodeLine{00022     if(os.path.exists(\textcolor{stringliteral}{"../../../out/lib/markopy.so"})):}
\DoxyCodeLine{00023         spec = spec\_from\_loader(\textcolor{stringliteral}{"markopy"}, ExtensionFileLoader(\textcolor{stringliteral}{"markopy"}, os.path.abspath(f\textcolor{stringliteral}{"../../../out/lib/markopy.\{ext\}"})))}
\DoxyCodeLine{00024         markopy = module\_from\_spec(spec)}
\DoxyCodeLine{00025         spec.loader.exec\_module(markopy)}
\DoxyCodeLine{00026     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00027         \textcolor{keywordflow}{raise} e}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029 \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00030     \textcolor{keyword}{from} base \textcolor{keyword}{import} BaseCLI}
\DoxyCodeLine{00031     \textcolor{keyword}{from} mp \textcolor{keyword}{import} MarkovPasswordsCLI}
\DoxyCodeLine{00032     \textcolor{keyword}{from} mmx \textcolor{keyword}{import} ModelMatrixCLI}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034 \textcolor{keywordflow}{except} ModuleNotFoundError \textcolor{keyword}{as} e:}
\DoxyCodeLine{00035     print(\textcolor{stringliteral}{"Working in development mode. Trying to load markopy.py from ../../../Markopy/"})}
\DoxyCodeLine{00036     if(os.path.exists(\textcolor{stringliteral}{"../../../Markopy/src/CLI/base.py"})):}
\DoxyCodeLine{00037         sys.path.insert(1, \textcolor{stringliteral}{'../../../Markopy/src/CLI/'})}
\DoxyCodeLine{00038         \textcolor{keyword}{from} base \textcolor{keyword}{import} BaseCLI}
\DoxyCodeLine{00039         \textcolor{keyword}{from} mp \textcolor{keyword}{import} MarkovPasswordsCLI}
\DoxyCodeLine{00040         \textcolor{keyword}{from} mmx \textcolor{keyword}{import} ModelMatrixCLI}
\DoxyCodeLine{00041     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00042         \textcolor{keywordflow}{raise} e }
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045 \textcolor{keyword}{from} termcolor \textcolor{keyword}{import} colored}
\DoxyCodeLine{00046 \textcolor{keyword}{from} abc \textcolor{keyword}{import} abstractmethod}
\DoxyCodeLine{00047 }
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00048}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i}{00048}} \textcolor{keyword}{class }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i}{MarkopyCLI}}(\mbox{\hyperlink{classbase_1_1_base_c_l_i}{BaseCLI}}):}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00049}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7ddebd246350af34dd393dedbc08ef1d}{00049}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7ddebd246350af34dd393dedbc08ef1d}{\_\_init\_\_}}(self, add\_help=False):}
\DoxyCodeLine{00050         super().\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7ddebd246350af34dd393dedbc08ef1d}{\_\_init\_\_}}(add\_help)}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00051}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ab949e42673be7a51ae3d7b583bc203ae}{00051}}         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}} = \textcolor{keywordtype}{None}}
\DoxyCodeLine{00052         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.epilog = f\textcolor{stringliteral}{"""}}
\DoxyCodeLine{00053 \textcolor{stringliteral}{        \{colored("Sample runs:", "yellow")\}}}
\DoxyCodeLine{00054 \textcolor{stringliteral}{        \{\_\_file\_\_.split("/")[-\/1]\} -\/mt MP generate trained.mdl -\/n 500 -\/w output.txt}}
\DoxyCodeLine{00055 \textcolor{stringliteral}{            Import trained.mdl, and generate 500 lines to output.txt}}
\DoxyCodeLine{00056 \textcolor{stringliteral}{}}
\DoxyCodeLine{00057 \textcolor{stringliteral}{        \{\_\_file\_\_.split("/")[-\/1]\} -\/mt MMX generate trained.mdl -\/n 500 -\/w output.txt}}
\DoxyCodeLine{00058 \textcolor{stringliteral}{            Import trained.mdl, and generate 500 lines to output.txt}}
\DoxyCodeLine{00059 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{00060 }
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00061}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a08b0f0fa9f5e58b6469c4d8f5c2fb7b8}{00061}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a08b0f0fa9f5e58b6469c4d8f5c2fb7b8}{add\_arguments}}(self):}
\DoxyCodeLine{00062         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.add\_argument(\textcolor{stringliteral}{"-\/mt"}, \textcolor{stringliteral}{"-\/-\/model\_type"}, default=\textcolor{stringliteral}{"\_MMX"}, help=\textcolor{stringliteral}{"Model type to use. Accepted values: MP, MMX"})}
\DoxyCodeLine{00063         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.add\_argument(\textcolor{stringliteral}{"-\/h"}, \textcolor{stringliteral}{"-\/-\/help"}, action=\textcolor{stringliteral}{"store\_true"}, help=\textcolor{stringliteral}{"Model type to use. Accepted values: MP, MMX"})}
\DoxyCodeLine{00064         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.print\_help = self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a0d820ca7ee4743284b4f2c8fdb2828cb}{help}}}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066     @abstractmethod}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00067}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ad401a547253565506b00e1afead9d2c7}{00067}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ad401a547253565506b00e1afead9d2c7}{help}}(self):}
\DoxyCodeLine{00068         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.print\_help = self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ac758f24d4390e588f2176c29277be0e0}{stub}}}
\DoxyCodeLine{00069         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}} = self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a51328a92a02b5b9fac1bef898820bf78}{parser}}.parse\_known\_args()[0]}
\DoxyCodeLine{00070         if(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type!=\textcolor{stringliteral}{"\_MMX"}):}
\DoxyCodeLine{00071             if(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type==\textcolor{stringliteral}{"MP"}):}
\DoxyCodeLine{00072                 mp = \mbox{\hyperlink{classmp_1_1_markov_passwords_c_l_i}{MarkovPasswordsCLI}}()}
\DoxyCodeLine{00073                 mp.add\_arguments()}
\DoxyCodeLine{00074                 mp.parser.print\_help()}
\DoxyCodeLine{00075             elif(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type==\textcolor{stringliteral}{"MMX"}):}
\DoxyCodeLine{00076                 mp = \mbox{\hyperlink{classmmx_1_1_model_matrix_c_l_i}{ModelMatrixCLI}}()}
\DoxyCodeLine{00077                 mp.add\_arguments()}
\DoxyCodeLine{00078                 mp.parser.print\_help()}
\DoxyCodeLine{00079         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00080             print(colored(\textcolor{stringliteral}{"Model Mode selection choices:"}, \textcolor{stringliteral}{"green"}))}
\DoxyCodeLine{00081             self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a45aa56452da7271e5c30e7f3b67fa6c2}{print\_help}}()}
\DoxyCodeLine{00082             print(colored(\textcolor{stringliteral}{"Following are applicable for -\/mt MP mode:"}, \textcolor{stringliteral}{"green"}))}
\DoxyCodeLine{00083             mp = \mbox{\hyperlink{classmp_1_1_markov_passwords_c_l_i}{MarkovPasswordsCLI}}()}
\DoxyCodeLine{00084             mp.add\_arguments()}
\DoxyCodeLine{00085             mp.parser.print\_help()}
\DoxyCodeLine{00086             print(colored(\textcolor{stringliteral}{"Following are applicable for -\/mt MMX mode:"}, \textcolor{stringliteral}{"green"}))}
\DoxyCodeLine{00087             mp = \mbox{\hyperlink{classmmx_1_1_model_matrix_c_l_i}{ModelMatrixCLI}}()}
\DoxyCodeLine{00088             mp.add\_arguments()}
\DoxyCodeLine{00089             mp.parser.print\_help()}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091         exit()}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094     @abstractmethod}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00095}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7a8c5f443dfed60a0c6fe8b41ea1d345}{00095}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7a8c5f443dfed60a0c6fe8b41ea1d345}{parse}}(self):}
\DoxyCodeLine{00096         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ae6dfeda797cbd1d32cf42d66d3caf225}{add\_arguments}}()}
\DoxyCodeLine{00097         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_af7dd474789ac13215823e6ba0d7f1c95}{parse\_arguments}}()}
\DoxyCodeLine{00098         self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_aa1e67059dd0b710f61a58aed603fe4ed}{init\_post\_arguments}}()}
\DoxyCodeLine{00099         if(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type == \textcolor{stringliteral}{"MP"}):}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00100}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a3dce0c36360793aed953055771a62f4e}{00100}}             self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a3dce0c36360793aed953055771a62f4e}{cli}} = \mbox{\hyperlink{classmp_1_1_markov_passwords_c_l_i}{MarkovPasswordsCLI}}()}
\DoxyCodeLine{00101         elif(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type == \textcolor{stringliteral}{"MMX"} \textcolor{keywordflow}{or} self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.model\_type == \textcolor{stringliteral}{"\_MMX"}):}
\DoxyCodeLine{00102             self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a3dce0c36360793aed953055771a62f4e}{cli}} = \mbox{\hyperlink{classmmx_1_1_model_matrix_c_l_i}{ModelMatrixCLI}}()}
\DoxyCodeLine{00103         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00104             self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_abdb383be165ed92a1d9dca281fa75fdb}{parse\_fail}}()}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106         if(self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_ab326819cf0bdb6b0de1b774334e06c80}{args}}.help): \textcolor{keywordflow}{return} self.\mbox{\hyperlink{classbase_1_1_base_c_l_i_a0d820ca7ee4743284b4f2c8fdb2828cb}{help}}()}
\DoxyCodeLine{00107         self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a3dce0c36360793aed953055771a62f4e}{cli}}.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a7a8c5f443dfed60a0c6fe8b41ea1d345}{parse}}()}
\DoxyCodeLine{00108     }
\DoxyCodeLine{00109     @abstractmethod}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00110}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_abdb383be165ed92a1d9dca281fa75fdb}{00110}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_abdb383be165ed92a1d9dca281fa75fdb}{parse\_fail}}(self):}
\DoxyCodeLine{00111         print(\textcolor{stringliteral}{"Unrecognized model type."})}
\DoxyCodeLine{00112         exit()}
\DoxyCodeLine{00113 }
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00114}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a998f5ab679ce59d1d5b0c1f10b96fdf0}{00114}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a998f5ab679ce59d1d5b0c1f10b96fdf0}{process}}(self):}
\DoxyCodeLine{00115         \textcolor{keywordflow}{return} self.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a3dce0c36360793aed953055771a62f4e}{cli}}.\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_a998f5ab679ce59d1d5b0c1f10b96fdf0}{process}}()}
\DoxyCodeLine{00116 }
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00117}\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ac758f24d4390e588f2176c29277be0e0}{00117}}     \textcolor{keyword}{def }\mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i_ac758f24d4390e588f2176c29277be0e0}{stub}}(self):}
\DoxyCodeLine{00118         \textcolor{keywordflow}{return}}
\DoxyCodeLine{00119         }
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{"\_\_main\_\_"}:}
\DoxyCodeLine{\Hypertarget{markopy_8py_source_l00122}\mbox{\hyperlink{namespacemarkopy_a2626224ad1569dd3ce7c37599cb1e6fe}{00122}}     mp = \mbox{\hyperlink{classmarkopy_1_1_markopy_c_l_i}{MarkopyCLI}}()}
\DoxyCodeLine{00123     mp.parse()}
\DoxyCodeLine{00124     mp.process()}

\end{DoxyCode}
